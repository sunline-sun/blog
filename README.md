1. a
2. b

- a
- nb

[title](www..)

**aasdads**

*basdasddsa*



dispatcherServlet2、applicationContext 扩展了BeanFactory，实现包括ClassPathXmlApplicationContext、FileSystemXmlApplicationContext、AnnotationConfigApplicationContext3、上下文一般分为Servlet WebApplicationContext（包含Controllers、viewResolver、HandlerMapping） 和Root WebapplicaitonContext（包含Services、Respositories），servlet~继承了Root~，在父或者子中加的切面只对自己上下文中的bean做了增强，如果需要同时增强，就在父子中都启用aop，把aop增强定义在父类中。4、dispatcherServlet请求大致流程：
	* 绑定attribute，比如webApplicationContext/LocaleResolver/ThemeResolver
	* 处理multipart，如果是，会将请求转为MultipartHttpServletRequest
	* Handler处理，如果找到对应的handler，执行Controller及前后置处理器逻辑
	* 处理返回的Model，呈现视图

5、dispatcherServlet核心方法：doservice（setAttribute -> doDispatch（checkMultipart -> getHandler -> applyPreHandle -> handle -> applyDefalultViewName -> processDispatcherResult））6、自定义WebMvcAutoConifgurer（其中包括的方法有拦截器配置、视图解析器配置、静态资源处理、视图跳转配置等方法）
	* SpringBoot在WebMvcAUtoConfigration中实现了一个
	* 添加自定义的Converter
	* 添加自定义的Formatter
	* SpringBoot的WevMvcAutoCOnfigaration中定义了类WebMvcAutoConfigurationAdpter，这个类实现了WebMvcConfigurer，WevMvcAutoCOnfigaration这个类中有addFormatters方法，可以添加自定的Converter和Formatter

7、multipart请求的处理是通过multipartAutoConfiguration配置类配置的，其中有multipartProperties属性配置（需要修改（比如改变上传文件大小等）可以通过在配置文件中修改multipartProperties的参数实现）和multiparConfigElement和multipartResolver8、Validator实现方式通过MethodValidationPostProcessor类实现，这个类实现了initialzingBean和BeanPostProcessor，第一，通过initialzingBean中的afterPropertiesSet方法创建这个注解的切面，第二，通过BeanPostProcessor中的postProcessAfterInitialization方法，判断是否已经是代理类了，如果是将创建的切面放到代理切面第一，这个是通过beforExistingAdvisors判断的，如果不是，校验有没有资格，有的话创建代理类。后面就是正常切面的责任链的处理方式了9、视图解析：主要通过ViewRresolver接口，常用的实现如AbstractCachingViewResolver、FreeMarkerViewResolver、ContentNegotiatingViewResolver、UrlBaseViewResolver、InternalResourceViewResolver。DispatcherServlet中的视图解析：initStrategies()初始化对应的viewResolver -> doDispatch()（processDispatchResult() -> 没有返回视图的话，尝试RequestToViewNameTranslator -> resolveViewName()解析View对象）10、responseBody处理逻辑：DIspatcher中doDispacther中HandlerAdapter.handle()中完成Response输出（RequestMappingHandlerAdapter.invokeHandlerMethod -> HandlerMethodReturnValueHandlerComposite.HandlerReturnValue() -> RequestResponseBodyMethodProcessor.handleReturnValue()）11、重定向：两种不同的重定向前缀：redirect（客户端发起，可以看到URL变化）、forward（服务端发起，看不到url变化）12、SpringBoot 对JackJson的支持，JacksonAutoConfiguration（通过@JsonCompnent注册序列化组件）13、HttpMessageConverters14、WebMvcAutoConfigationAdpter 中有对视图转换的支持，只要自己定义视图装换的bean就可以，springboot提供了几个默认实现的converter，是通过configureMessageConverters实现的。添加一个converter的方法：1/创建自定义的converter的bean 2/重写webmvcconfigration的configureMessageConverters方法，把自己定义的converter add进去。3/重写extendMessageConverters，把converter add进去15/模版引擎：ThymeLeaf 和 FreeMarker ，ThymeLeaf的springboot自动配置，是通过ThymeLeafAutoConfigration，同时配置了ThymeLeafViewResolver16、springboot中 静态资源的配置，主要通过webMvcConfigurer.addResourceHandles()逻辑实现,常用配置spring.mvc.static-path-pattern=/** 或者 spring.resources.static-locations=classpath:/META-INF/resource，现在的静态资源一般是通过CDN实现的17、springboot中缓存的配置，是通过ResourceProperties.Cache实现的18、springMVC的异常解析，核心接口时HandlerExceptionReslolver,实现类包括SimpleMappingException、DefaultHandlerException、ResponseStatusExceptionResolver、ExceptionHandlerExceptionResolver19、异常处理方法：添加@ExceptionHandler注解，在controller或者controllerAdvice
